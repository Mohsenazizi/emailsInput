const emailsInput=function(){let e=0,t=0,n=!1,i=[];function a(){!function(e){const t=i.filter(t=>t.id!==e);i=t}(this.getAttribute("data-ei-id")),this.parentElement.remove()}function d(n){if(null==n||"string"!=typeof n||""===n.trim())return!1;let d="ei_"+e+"_"+(t+=1),s=function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}(n),o={id:d,email:n,isValid:s};i.push(o);let l=document.createElement("div"),r=document.createElement("div"),c=document.createElement("div");return l.classList.add("ei_item"),r.classList.add("ei_cross"),c.classList.add("ei_email"),l.setAttribute("data-ei-id",d),c.innerHTML=s?n:"invalid email",!s&&l.classList.add("ei_invalid_item"),r.addEventListener("click",a),l.insertAdjacentElement("afterbegin",r),l.insertAdjacentElement("beforeend",c),l}return{init:function(a){e+=1;const{container:s,position:o,addRandomButtonContent:l,showCountButtonContent:r}=a;let c=document.createElement("div"),m=document.createElement("div"),u=document.createElement("div"),E=document.createElement("div"),f=document.createElement("div"),_=document.createElement("div");eiInputElement=document.createElement("input"),c.classList.add("ei_container"),m.classList.add("ei_input_container"),u.classList.add("ei_input_focus_line"),eiInputElement.setAttribute("type","text"),eiInputElement.setAttribute("placeholder","Add New Email..."),E.classList.add("ei_buttons_container"),f.classList.add("ei_button"),_.classList.add("ei_button"),_.innerHTML=r,f.innerHTML=l,f.addEventListener("click",function(){let e=d("ei_sample"+t+"@emailsInput.test");this.parentElement.parentElement.querySelector(".ei_input_container").insertAdjacentElement("beforebegin",e)}),_.addEventListener("click",function(){let e=i.filter(e=>e.isValid).length,t=document.querySelector(".ei_notification_box");t.innerHTML="there are "+e+" valid emails",t.classList.remove("ei_notification_box_out_animation"),t.classList.add("ei_notification_box_in_animation"),setTimeout(function(){t.classList.remove("ei_notification_box_in_animation"),t.classList.add("ei_notification_box_out_animation")},1e3)}),E.insertAdjacentElement("afterbegin",f),E.insertAdjacentElement("beforeend",_),eiInputElement.addEventListener("paste",function(e){let t=(e.clipboardData||window.clipboardData).getData("text").split(",");for(let e=0;e<t.length;e++){let n=d(t[e]);d&&this.parentElement.insertAdjacentElement("beforebegin",n)}event.preventDefault()}),eiInputElement.addEventListener("keydown",function(e){if(13!==(e.keyCode||e.which))return!1;let t=d(this.value);if(!t)return!1;this.parentElement.insertAdjacentElement("beforebegin",t),this.value=""}),m.insertAdjacentElement("afterbegin",eiInputElement),m.insertAdjacentElement("beforeend",u),c.insertAdjacentElement("afterbegin",m),c.insertAdjacentElement("beforeend",E),s.insertAdjacentElement(o,c),function(){if(n)return!1;let e=document.createElement("div");e.classList.add("ei_notification_box"),document.body.insertAdjacentElement("beforeend",e)}(),n=!0}}}();